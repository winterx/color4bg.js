# @color4bg/next

Next.js component for [color4bg](https://github.com/winterx/color4bg.js) - Cool colorful backgrounds generated by WebGL.

## üì¶ Installation

Install the Next.js package:

```bash
npm install @color4bg/next
```

Or via yarn:

```bash
yarn add @color4bg/next
```

Or via pnpm:

```bash
pnpm add @color4bg/next
```

**Note:** This package requires Next.js 13.0.0 or higher (App Router) and React 18.0.0 or higher.

## üöÄ Quick Start

```jsx
'use client'

import { Color4Bg } from '@color4bg/next'

export default function Page() {
  return (
    <div id="container" style={{ width: '100%', height: '100vh' }}>
      <Color4Bg style="abstract-shape" />
      <h1>Your content here</h1>
    </div>
  )
}
```

## üìñ Usage

The `Color4Bg` component automatically mounts a canvas to its parent container. Simply place the component inside the container where you want the background to appear.

### Important: Client Component

Since `Color4Bg` uses browser APIs (WebGL, Canvas), it must be used as a client component. Make sure to add `'use client'` directive at the top of your file when using this component.

### Basic Example

```jsx
'use client'

import { Color4Bg } from '@color4bg/next'

export default function MyComponent() {
  return (
    <div className="container">
      <Color4Bg style="abstract-shape" />
      {/* Your content */}
    </div>
  )
}
```

### With Custom Colors

```jsx
'use client'

import { Color4Bg } from '@color4bg/next'

export default function MyComponent() {
  return (
    <div className="container">
      <Color4Bg 
        style="aesthetic-fluid"
        colors={["#D1ADFF", "#98D69B", "#FAE390", "#FFACD8", "#7DD5FF", "#D1ADFF"]}
      />
    </div>
  )
}
```

### With Animation Loop

```jsx
'use client'

import { Color4Bg } from '@color4bg/next'

export default function MyComponent() {
  return (
    <div className="container">
      <Color4Bg 
        style="chaos-waves"
        loop={true}
        seed={1000}
      />
    </div>
  )
}
```

### With Custom Options

```jsx
'use client'

import { Color4Bg } from '@color4bg/next'

export default function MyComponent() {
  return (
    <div className="container">
      <Color4Bg 
        style="abstract-shape"
        options={{
          noise: 0.1,
          wavy: 15
        }}
      />
    </div>
  )
}
```

## üé® Available Background Styles

The `style` prop accepts one of the following background types:

- `abstract-shape` - Abstract shapes with wavy effects
- `aesthetic-fluid` - Aesthetic fluid patterns
- `ambient-light` - Ambient light effects
- `big-blob` - Large blob shapes
- `blur-dot` - Blurred dot patterns
- `blur-gradient` - Blurred gradient effects
- `chaos-waves` - Chaotic wave patterns
- `curve-gradient` - Curved gradient patterns
- `grid-array` - Grid array patterns
- `random-cubes` - Random cube patterns
- `step-gradient` - Step gradient effects
- `swirling-curves` - Swirling curve patterns
- `triangles-mosaic` - Triangle mosaic patterns
- `wavy-waves` - Wavy wave patterns

## üìã Props

| Prop | Type | Required | Default | Description |
|------|------|----------|---------|-------------|
| `style` | `string` | ‚úÖ Yes | - | Background type (see available styles above) |
| `colors` | `string[]` | ‚ùå No | `[]` | Array of up to 6 hexadecimal color values (e.g., `["#FF0000", "#00FF00"]`) |
| `seed` | `number` | ‚ùå No | `1000` | Random seed for generating consistent patterns |
| `loop` | `boolean` | ‚ùå No | `false` | Whether the background should animate in a loop |
| `options` | `object` | ‚ùå No | `{}` | Background-specific options (varies by style) |

### Options Examples

Different background styles support different options. Here are some examples:

**abstract-shape:**
```jsx
<Color4Bg 
  style="abstract-shape"
  options={{
    noise: 0.1,  // Noise amount (0.0 - 0.5)
    wavy: 15     // Wavy effect strength (0 - 20)
  }}
/>
```

**chaos-waves:**
```jsx
<Color4Bg 
  style="chaos-waves"
  options={{
    noise: 0.1,  // Noise amount
    speed: 5     // Animation speed (1 - 20)
  }}
/>
```

**grid-array:**
```jsx
<Color4Bg 
  style="grid-array"
  options={{
    scale: 100,      // Grid scale (1 - 200)
    amplitude: 0.5,  // Wave amplitude (0.0 - 5.0)
    speed: 5         // Animation speed (1 - 10)
  }}
/>
```

## üí° Important Notes

1. **Client Component**: The component uses `'use client'` directive internally, but you must also mark your parent component as a client component if it's in the App Router.

2. **Parent Container**: The component automatically mounts the canvas to its parent element. Make sure the parent container has a defined size (width and height).

3. **Position**: The parent container will automatically get `position: relative` if it doesn't have a position style set.

4. **Component Placement**: Place the `<Color4Bg />` component as a child of the container where you want the background to appear.

5. **SSR Compatibility**: The component is SSR-safe and will only initialize on the client side.

6. **Dynamic Updates**: The component automatically updates when props change. You can dynamically change `colors`, `seed`, `loop`, and `options` props.

## üîÑ Dynamic Updates

The component supports dynamic prop updates:

```jsx
'use client'

import { useState } from 'react'
import { Color4Bg } from '@color4bg/next'

export default function MyComponent() {
  const [seed, setSeed] = useState(1000)
  const [colors, setColors] = useState(["#FF0000", "#00FF00"])

  return (
    <div className="container">
      <Color4Bg 
        style="abstract-shape"
        seed={seed}
        colors={colors}
        loop={true}
      />
      <button onClick={() => setSeed(Math.random() * 10000)}>
        Change Seed
      </button>
      <button onClick={() => setColors(["#0000FF", "#FFFF00"])}>
        Change Colors
      </button>
    </div>
  )
}
```

## üéØ Examples

### Full Page Background

```jsx
'use client'

import { Color4Bg } from '@color4bg/next'

export default function Page() {
  return (
    <div style={{ width: '100vw', height: '100vh', position: 'relative' }}>
      <Color4Bg style="aesthetic-fluid" loop={true} />
      <div style={{ position: 'relative', zIndex: 1 }}>
        <h1>Your Content</h1>
      </div>
    </div>
  )
}
```

### Section Background

```jsx
'use client'

import { Color4Bg } from '@color4bg/next'

export default function Section() {
  return (
    <section style={{ width: '100%', height: '500px', position: 'relative' }}>
      <Color4Bg 
        style="curve-gradient"
        colors={["#FE8BFC", "#BD9FFB", "#8EDBFD"]}
      />
      <div style={{ position: 'relative', zIndex: 1, padding: '2rem' }}>
        <h2>Section Title</h2>
        <p>Section content...</p>
      </div>
    </section>
  )
}
```

### Using in App Router Layout

```jsx
// app/layout.js
import { Color4Bg } from '@color4bg/next'

export default function RootLayout({ children }) {
  return (
    <html lang="en">
      <body>
        <div style={{ width: '100vw', height: '100vh', position: 'relative' }}>
          <Color4Bg style="abstract-shape" />
          <div style={{ position: 'relative', zIndex: 1 }}>
            {children}
          </div>
        </div>
      </body>
    </html>
  )
}
```

Note: When using in a Server Component (like `layout.js`), you may need to create a separate client component wrapper.

## üîß Next.js App Router Specifics

### Server vs Client Components

Since `Color4Bg` requires browser APIs, it must be used in Client Components. If you're using it in a Server Component context, create a wrapper:

```jsx
// components/BackgroundWrapper.jsx
'use client'

import { Color4Bg } from '@color4bg/next'

export default function BackgroundWrapper({ style, colors, ...props }) {
  return <Color4Bg style={style} colors={colors} {...props} />
}
```

Then use it in your Server Component:

```jsx
// app/page.js
import BackgroundWrapper from '@/components/BackgroundWrapper'

export default function Page() {
  return (
    <div className="container">
      <BackgroundWrapper style="abstract-shape" />
      {/* Your content */}
    </div>
  )
}
```

## üìö Related Packages

- [color4bg](https://www.npmjs.com/package/color4bg) - Core library
- [@color4bg/react](./../react) - React integration
- [@color4bg/vue](./../vue) - Vue.js integration (coming soon)

## üîó Links

- [Documentation](https://color4bg.com)
- [Demo](https://color4bg.com)
- [GitHub](https://github.com/winterx/color4bg.js)

## üìÑ License

MIT

